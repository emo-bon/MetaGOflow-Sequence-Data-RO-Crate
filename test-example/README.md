# Test example of Data Products RO-Crate

This uses test data contained in the
SHORT_SAMPLE_ALL_SPEPS_PROV.tar.gz tarball (too big for git repo, see Slack channel) which was generated by MetaGOflow
using reduced raw reads data found
[here](https://github.com/emo-bon/pipeline-v5/tree/eosc-life-gos/test_input).

The MetaGOflow output from tarball:

```
$ tree -L 2
.
├── prov
│   ├── bag-info.txt
│   ├── bagit.txt
│   ├── data
│   ├── manifest-sha1.txt
│   ├── metadata
│   ├── snapshot
│   ├── tagmanifest-sha1.txt
│   ├── tagmanifest-sha256.txt
│   ├── tagmanifest-sha512.txt
│   └── workflow
├── results
│   ├── fastp.html
│   ├── functional-annotation
│   ├── merged_qc
│   ├── qc_summary
│   ├── RNA-counts
│   ├── sequence-categorisation
│   ├── taxonomy-summary
│   ├── wgs-paired-SRR1620013_1
│   ├── wgs-paired-SRR1620013_1.fastq.gz.sha1
│   ├── wgs-paired-SRR1620013_1.fastq.trimmed.fasta
│   ├── wgs-paired-SRR1620013_2
│   ├── wgs-paired-SRR1620013_2.fastq.gz.sha1
│   ├── wgs-paired-SRR1620013_2.fastq.trimmed.fasta
│   ├── wgs-paired-SRR1620013.merged_CDS.faa
│   ├── wgs-paired-SRR1620013.merged_CDS.ffn
│   ├── wgs-paired-SRR1620013.merged.cmsearch.all.tblout.deoverlapped
│   ├── wgs-paired-SRR1620013.merged.fasta
│   ├── wgs-paired-SRR1620013.merged.motus.tsv
│   └── wgs-paired-SRR1620013.merged.unfiltered_fasta
├── tmp
└── wgs-SRR1620013.yml

13 directories, 20 files
```

The output is most cwltool auto-generated provenance in the "prov" dir:
```
$ du -hs ./*
1.7G	./prov
12M	./results
4.0K	./tmp
12K	./wgs-SRR1620013.yml
```

The current RO-Crate does not include these data to keep it light. However, some
of this provenace may go in the
[MetaGOflow-Sequence-Data-RO-Crate](https://github.com/emo-bon/MetaGOflow-Sequence-Data-RO-Crate)

The example RO-Crate Metadata File Descriptor ([example-ro-crate-metadata.json](./example-ro-crate-metadata.json)) generates the
 [EMOBON00001-MetaGOflow-Data-Products.tar.bz](EMOBON00001-MetaGOflow-Data-Products.tar.bz) RO-Crate and has the following manifest:

```
[EMOBON00001-MetaGOflow-Data-Products]$ tree
.
├── results
│   ├── fastp.html
│   ├── functional-annotation
│   │   ├── stats
│   │   │   ├── go.stats
│   │   │   ├── interproscan.stats
│   │   │   ├── ko.stats
│   │   │   ├── orf.stats
│   │   │   └── pfam.stats
│   │   ├── wgs-paired-SRR1620013.merged_CDS.I5.tsv.gz
│   │   ├── wgs-paired-SRR1620013.merged.hmm.tsv.gz
│   │   ├── wgs-paired-SRR1620013.merged.summary.go
│   │   ├── wgs-paired-SRR1620013.merged.summary.go_slim
│   │   ├── wgs-paired-SRR1620013.merged.summary.ips
│   │   ├── wgs-paired-SRR1620013.merged.summary.ko
│   │   └── wgs-paired-SRR1620013.merged.summary.pfam
│   ├── qc_summary
│   ├── RNA-counts
│   ├── sequence-categorisation
│   │   ├── LSU_rRNA_bacteria.RF02541.fa.gz
│   │   ├── SSU_rRNA_bacteria.RF00177.fa.gz
│   │   └── tRNA.RF00005.fasta
│   └── taxonomy-summary
│       ├── LSU
│       │   ├── krona.html
│       │   ├── wgs-paired-SRR1620013.merged_LSU.fasta.mseq.gz
│       │   └── wgs-paired-SRR1620013.merged_LSU.fasta.mseq_json.biom
│       └── SSU
│           ├── krona.html
│           ├── wgs-paired-SRR1620013.merged_SSU.fasta.mseq.gz
│           └── wgs-paired-SRR1620013.merged_SSU.fasta.mseq_json.biom
├── ro-crate-metadata.json
└── wgs-SRR1620013.yml

7 directories, 26 files
```

The [result.json](./result.json) is the validation result using the ["rocrateValidator"](https://github.com/ResearchObject/ro-crate-validator-py) library.
